<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A Private Keepsake</title>
    
    <link rel="icon" href="Assets/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="Assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="Assets/favicon-32x32.png"> 
    <link rel="icon" type="image/png" sizes="16x16" href="Assets/favicon-16x16.png">
    <link rel="manifest" href="Assets/site.webmanifest">

    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500&family=Spectral:ital,wght@0,300;0,400;1,300&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg: #fdfcf9;
            --ink: #1a1a1a;
            --gold: #b2935b;
            --line-height: 2.3; 
            --luxury-gap: 15vh;
            --transition: cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        /* --- CORE RESET --- */
        html, body { 
            width: 100%; 
            max-width: 100vw;
            overflow-x: hidden; 
            margin: 0; 
            padding: 0; 
            background-color: var(--bg);
            -webkit-text-size-adjust: 100%;
            overscroll-behavior: none; 
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body { 
            color: var(--ink); 
            font-family: 'Spectral', serif; 
            line-height: var(--line-height); 
            -webkit-font-smoothing: antialiased;
        }

        /* --- PRELOADER (Visual Polish) --- */
        #preloader {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg);
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s ease, visibility 0.8s;
        }

        #preloader.hidden { opacity: 0; visibility: hidden; }

        .container { max-width: 1100px; margin: 0 auto; padding: 0 25px; }

        /* --- HERO --- */
        .hero {
            height: 100vh;
            /* Fix for mobile browser bars */
            min-height: -webkit-fill-available; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
        }

        .recipient {
            font-family: 'Cinzel', serif;
            font-size: clamp(0.65rem, 2.5vw, 0.85rem);
            letter-spacing: clamp(4px, 1.5vw, 10px);
            text-transform: uppercase;
            color: var(--gold);
            margin-bottom: 25px;
            white-space: nowrap; 
            opacity: 0;
            animation: revealUp 1.4s var(--transition) forwards 0.5s;
        }

        .hero-title {
            font-family: 'Cinzel', serif;
            font-size: clamp(1.2rem, 6vw, 2.6rem);
            font-weight: 400;
            letter-spacing: clamp(1px, 0.5vw, 4px);
            color: var(--ink);
            margin-bottom: 15px;
            white-space: nowrap; 
            opacity: 0;
            animation: revealUp 1.4s var(--transition) forwards 0.8s;
        }

        .hero-sub {
            font-style: italic;
            font-size: clamp(0.85rem, 3.5vw, 1.15rem);
            opacity: 0;
            font-weight: 300;
            animation: revealUp 1.4s var(--transition) forwards 1.1s;
        }

        @keyframes revealUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- SCROLL INDICATOR (Refined) --- */
        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            opacity: 0; /* Hidden initially */
            animation: fadeIn 1s ease forwards 2s; /* Delayed appearance */
        }

        .scroll-text {
            font-family: 'Cinzel', serif;
            font-size: 0.55rem;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--gold);
            opacity: 0.7;
        }

        .scroll-line {
            width: 1px;
            height: 45px;
            background: linear-gradient(to bottom, var(--gold), transparent);
            position: relative;
            overflow: hidden;
        }

        /* Running light effect on the line */
        .scroll-line::after {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, transparent, var(--gold), transparent);
            animation: flow 2s infinite;
        }

        @keyframes flow {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }
        @keyframes fadeIn { to { opacity: 1; } }

        /* --- POSTCARD SECTION --- */
        .card-view {
            perspective: 2000px;
            margin: var(--luxury-gap) 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .postcard {
            width: 100%;
            max-width: 820px;
            aspect-ratio: 1365 / 768;
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1.2s var(--transition);
            box-shadow: 0 40px 80px rgba(0,0,0,0.06);
            user-select: none;
            -webkit-user-drag: none;
        }

        .postcard.flipped { transform: rotateY(180deg); }

        .face {
            position: absolute;
            width: 100%; height: 100%;
            backface-visibility: hidden;
            background: #fff;
            border-radius: 2px;
            overflow: hidden;
        }

        .face img { width: 100%; height: 100%; object-fit: cover; display: block; pointer-events: none; }
        .back { transform: rotateY(180deg); }

        .btn-expand {
            margin-top: 35px;
            font-family: 'Cinzel', serif;
            font-size: 0.6rem;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--gold);
            cursor: pointer;
            padding: 10px 20px;
            border-bottom: 1px solid transparent;
            transition: 0.3s;
        }

        .btn-expand:hover { border-bottom-color: var(--gold); }
        .btn-expand:active { opacity: 0.6; }

        /* --- LIGHTBOX (MOBILE SAFE ZONE) --- */
        .lightbox {
            position: fixed;
            top: 0; left: 0; 
            width: 100%; height: 100%;
            background: var(--bg);
            z-index: 9999;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            touch-action: none; 
        }

        .lightbox.active { display: flex; }

        .lightbox-card {
            width: 90vw;
            max-width: 1100px;
            aspect-ratio: 1365 / 768;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s var(--transition);
        }

        @media (max-width: 768px) {
            .lightbox-card {
                /* Reduced height ensures strictly no overlap with bottom button */
                width: 65vh; 
                transform: rotate(90deg);
            }
            .lightbox-card.flipped { transform: rotate(90deg) rotateY(180deg); }
        }

        .close-btn {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Cinzel', serif;
            font-size: 0.7rem;
            letter-spacing: 3px;
            text-transform: uppercase;
            cursor: pointer;
            color: var(--ink);
            background: rgba(253, 252, 249, 0.9);
            backdrop-filter: blur(5px);
            padding: 12px 28px;
            border-radius: 50px;
            border: 1px solid var(--gold);
            z-index: 10001;
            white-space: nowrap;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }
        
        .close-btn:active { transform: translateX(-50%) scale(0.95); }

        /* --- ACTIONS & STORY --- */
        .actions {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: var(--luxury-gap);
        }

        .btn-save {
            font-family: 'Cinzel', serif;
            font-size: 0.7rem;
            letter-spacing: 2px;
            text-decoration: none;
            color: var(--ink);
            padding-bottom: 5px;
            border-bottom: 1px solid var(--gold);
        }

        .story { max-width: 650px; margin: 0 auto; }
        
        .block {
            margin-bottom: 150px;
            opacity: 0;
            transform: translateY(40px);
            transition: all 1.2s var(--transition);
        }

        .block.visible { opacity: 1; transform: translateY(0); }

        h2 {
            font-family: 'Cinzel', serif;
            font-size: clamp(0.7rem, 2.5vw, 0.85rem);
            letter-spacing: 5px;
            text-transform: uppercase;
            margin-bottom: 35px;
            color: var(--gold);
            white-space: nowrap; 
        }

        p {
            font-size: clamp(1.1rem, 3.5vw, 1.25rem);
            text-align: justify;
            font-weight: 300;
        }

        /* --- FOOTER --- */
        footer {
            padding: 120px 0 60px;
            text-align: center;
            border-top: 1px solid rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            align-items: center; 
            width: 100%;
            overflow: hidden;
        }

        .signature {
            font-family: 'Cinzel', serif;
            font-size: clamp(0.6rem, 3.5vw, 0.8rem);
            letter-spacing: clamp(1px, 1.2vw, 6px);
            text-transform: uppercase;
            margin-bottom: 25px;
            white-space: nowrap; 
            text-align: center;
            width: 100%;
            display: block;
        }

        .disclaimer {
            font-size: 0.65rem;
            max-width: 450px;
            margin: 0 auto;
            opacity: 0.3;
            line-height: 1.8;
            font-style: italic;
            text-align: center;
        }

        @media (max-width: 768px) {
            .container { padding: 0 20px; }
            .hero { height: 85vh; }
            .actions { flex-direction: column; align-items: center; gap: 20px; }
            p { text-align: left; line-height: 2.2; }
            .block { margin-bottom: 100px; }
        }
    </style>
</head>
<body>

<div id="preloader"></div>

<div class="lightbox" id="lightbox">
    <div class="lightbox-card" id="lightboxCard">
        <div class="face front">
            <img src="Assets/Letter Front.png" alt="Front">
        </div>
        <div class="face back">
            <img src="Assets/Letter Back.png" alt="Back">
        </div>
    </div>
    <div class="close-btn" id="closeBtn">Exit Read Mode</div>
</div>

<div class="container">
    <header class="hero">
        <span class="recipient">To: Imali</span>
        <h1 class="hero-title">All because I love you</h1>
        <p class="hero-sub">A digital keepsake.</p>
        
        <div class="scroll-indicator">
            <span class="scroll-text">Scroll</span>
            <span class="scroll-line"></span>
        </div>
    </header>

    <section class="card-view">
        <div class="postcard" id="mainPostcard">
            <div class="face front">
                <img src="Assets/Letter Front.png" alt="Front">
            </div>
            <div class="face back">
                <img src="Assets/Letter Back.png" alt="Back">
            </div>
        </div>
        <div class="btn-expand" id="expandBtn">Tap for Read Mode</div>
    </section>

    <div class="actions">
        <a href="Assets/Letter Front.png" download="Keepsake_Front" class="btn-save">Save Front Image</a>
        <a href="Assets/Letter Back.png" download="Keepsake_Back" class="btn-save">Save Back Image</a>
    </div>

    <article class="story">
        <div class="block">
            <h2>The Recognition</h2>
            <p>In a season defined by quiet transitions and the simple weight of life, our paths crossed. I was navigating a period of reflection, and finding you felt less like a chance encounter and more like a long-awaited recognition. Distance meant very little once the conversation truly began.</p>
        </div>
        <div class="block">
            <h2>The Alignment</h2>
            <p>It is rare to find a connection that feels like a puzzle piece finally clicking into place. With you, there is an effortless energy that brings out the absolute best in us. We have navigated our journey with an unwavering honesty, unlearning old patterns to make room for something far more beautiful.</p>
        </div>
        <div class="block">
            <h2>The Moment</h2>
            <p>Those days in the hills were a realization of how being in the moment—with you—is enough. Seeing you there, my girl with a flower, captured the essence of why meeting you has made me love myself more. No matter where the road leads, this space we have built remains.</p>
        </div>
    </article>

    <footer>
        <span class="signature">Created for Her by Chatura</span>
        <div class="disclaimer">This narrative and creative vision are original works. Structural layout and visual grids were developed with technical assistance from Gemini.</div>
    </footer>
</div>

<script>
    // Remove Preloader when loaded
    window.addEventListener('load', () => {
        const preloader = document.getElementById('preloader');
        preloader.classList.add('hidden');
        setTimeout(() => preloader.style.display = 'none', 800);
    });

    document.addEventListener('DOMContentLoaded', () => {
        const mainPostcard = document.getElementById('mainPostcard');
        const lightbox = document.getElementById('lightbox');
        const lightboxCard = document.getElementById('lightboxCard');
        const closeBtn = document.getElementById('closeBtn');
        const expandBtn = document.getElementById('expandBtn');

        // Main Flip
        mainPostcard.addEventListener('click', () => {
            mainPostcard.classList.toggle('flipped');
        });

        // Open Read Mode
        expandBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
            document.body.style.position = 'fixed'; 
            document.body.style.width = '100%';
        });

        // Flip Inside Lightbox
        lightboxCard.addEventListener('click', (e) => {
            e.stopPropagation();
            lightboxCard.classList.toggle('flipped');
        });

        // Close Read Mode
        closeBtn.addEventListener('click', () => {
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
            document.body.style.position = '';
            document.body.style.width = '';
        });

        // Scroll Animation
        const blocks = document.querySelectorAll('.block');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.15 });

        blocks.forEach(block => observer.observe(block));
    });
</script>

</body>
</html>
